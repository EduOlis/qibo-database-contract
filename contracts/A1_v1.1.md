# Contrato Formal do Agente A1
## Agente de Agrupamento Conservador de Evid√™ncias

## 1. Defini√ß√£o Exata do Agente A1

### Identidade

**Nome:** Agente A1 ‚Äî Agrupamento Conservador de Evid√™ncias

**Modelo de Opera√ß√£o:** A1-Œ± (conservador)

**Natureza:** IA assistiva, n√£o-aut√¥noma, estritamente dependente de aprova√ß√£o humana pr√©via

**Responsabilidade √∫nica:** Agrupar evid√™ncias textuais previamente aprovadas por humanos, propor r√≥tulos provis√≥rios neutros e sinalizar poss√≠veis conflitos ou redund√¢ncias, sem realizar infer√™ncia cl√≠nica, normaliza√ß√£o ou cria√ß√£o de conhecimento.

‚ö†Ô∏è **O A1 n√£o cria conhecimento cl√≠nico. Ele apenas organiza evid√™ncias aprovadas para etapas posteriores.**

## 2. Depend√™ncia Obrigat√≥ria

O agente A1 depende integralmente do contrato A0 e de seus invariants de execu√ß√£o congelados.

**Refer√™ncias obrigat√≥rias:**
- `contracts/A0.md` (hash: `ab43bca68c1607c3b140bb72a60497d068a8ccd41145f29b00eedcbfbeab852c`)
- `contracts/a0_execution_invariants_v1.md` (hash: `dd34f985ae3ca215378af9550d702a18fbe846c4d2b1186455e8a824577480da`)

**Regras de depend√™ncia:**
- O A1 N√ÉO redefine responsabilidades do A0
- O A1 N√ÉO estende o escopo do A0
- O A1 N√ÉO reinterpreta decis√µes do A0
- Qualquer mudan√ßa futura em A0 invalida semanticamente este contrato

## 3. Posi√ß√£o no Pipeline

```
P0 (determin√≠stico)
  ‚Üì
kb_raw_chunks
  ‚Üì
A0 (extra√ß√£o)
  ‚Üì
kb_evidence_excerpts [status=pending]
  ‚Üì
Gate humano obrigat√≥rio (aprova√ß√£o)
  ‚Üì
kb_evidence_excerpts [status=approved]
  ‚Üì
A1 (agrupamento conservador)
  ‚Üì
Estruturas intermedi√°rias n√£o finais
```

**O A1 nunca escreve diretamente em:**
- `tcm_*` (qualquer tabela final de conhecimento cl√≠nico)
- Tabelas de entidades cl√≠nicas finalizadas
- Tabelas de rela√ß√µes causais, terap√™uticas ou diagn√≥sticas

## 4. Input (Entrada)

**Tabela lida:** `kb_evidence_excerpts`

**Condi√ß√µes obrigat√≥rias simult√¢neas:**

Todos os registros lidos pelo A1 DEVEM atender cumulativamente a:

1. `status = "approved"`
2. `reviewed_by IS NOT NULL` (aprova√ß√£o humana registrada)
3. `reviewed_at IS NOT NULL` (timestamp de aprova√ß√£o registrada)

**Regra de filtragem obrigat√≥ria:**

O A1 DEVE aplicar a seguinte cl√°usula SQL (ou equivalente) em TODAS as leituras de `kb_evidence_excerpts`:

```sql
WHERE status = 'approved'
  AND reviewed_by IS NOT NULL
  AND reviewed_at IS NOT NULL
```

Qualquer leitura que n√£o aplique explicitamente esta tripla condi√ß√£o constitui viola√ß√£o de contrato.

**Campos utilizados:**
- `id` (uuid)
- `chunk_id` (uuid)
- `excerpt_text` (text)
- `suggested_entity_type` (text)
- `relevance_score` (numeric)
- `justification` (text)
- `language` (text)
- `status` (text)
- `reviewed_by` (uuid)
- `reviewed_at` (timestamp)

**Restri√ß√µes absolutas de entrada:**

O A1 explicitamente N√ÉO pode:
- Ler registros com `status = "pending"`
- Ler registros com `status = "rejected"`
- Ler registros com `status` NULL ou qualquer outro valor que n√£o seja exatamente "approved"
- Ler registros onde `reviewed_by IS NULL`
- Ler registros onde `reviewed_at IS NULL`
- Inferir ou completar dados ausentes
- Acessar diretamente `kb_raw_chunks` para reprocessamento
- Reinterpretar decis√µes de aprova√ß√£o/rejei√ß√£o do A0 ou de humanos
- Assumir aprova√ß√£o impl√≠cita por aus√™ncia de rejei√ß√£o

## 5. Output (Sa√≠da)

**Natureza da sa√≠da:** Estruturas intermedi√°rias n√£o finais e n√£o cl√≠nicas

**Tabelas de trabalho sugeridas:**
- `kb_evidence_clusters` (agrupamentos provis√≥rios)
- `kb_provisional_labels` (r√≥tulos neutros tempor√°rios)
- `kb_evidence_conflicts` (sinaliza√ß√µes de conflitos/redund√¢ncias)

**Campos t√≠picos de sa√≠da:**

### 5.1 Agrupamentos (`kb_evidence_clusters`)
- `cluster_id` (uuid, gerado)
- `evidence_ids` (array de uuid ‚Üí `kb_evidence_excerpts.id`)
- `cluster_basis` (text: descri√ß√£o textual da base do agrupamento)
- `provisional_label` (text: r√≥tulo neutro e n√£o normalizado)
- `confidence_level` (numeric, 0.00 ‚Äì 1.00)
  - **Natureza do campo:** `confidence_level` N√ÉO representa validade cl√≠nica, relev√¢ncia cient√≠fica, for√ßa conceitual ou corre√ß√£o
  - Mede exclusivamente a consist√™ncia mec√¢nica/computacional do agrupamento textual
  - N√ÉO deve ser interpretado como valida√ß√£o, julgamento de qualidade ou aprova√ß√£o sem√¢ntica

**Restri√ß√£o adicional:**
O campo `confidence_level` N√ÉO pode ser derivado de:
- embeddings sem√¢nticos
- modelos de linguagem
- representa√ß√µes vetoriais treinadas
- similaridade conceitual latente

Ele DEVE ser calculado exclusivamente a partir de m√©tricas observ√°veis e determin√≠sticas, como:
- contagem de termos literais coincidentes
- propor√ß√£o de sobreposi√ß√£o textual
- dist√¢ncia textual expl√≠cita (ex: edi√ß√£o, n-gram literal)

- `created_at` (timestamp)

### 5.2 R√≥tulos Provis√≥rios (`kb_provisional_labels`)
- `label_id` (uuid, gerado)
- `label_text` (text: r√≥tulo extra√≠do ou m√≠nimo)
- `evidence_ids` (array de uuid)
- `label_type` (text: descritivo, n√£o ontol√≥gico)
- `created_at` (timestamp)

### 5.3 Sinaliza√ß√µes (`kb_evidence_conflicts`)
- `conflict_id` (uuid, gerado)
- `evidence_id_a` (uuid)
- `evidence_id_b` (uuid)
- `conflict_type` (text: "redundancy", "contradiction", "overlap")
- `description` (text)
- `created_at` (timestamp)

‚ö†Ô∏è **Todas as sa√≠das do A1 s√£o provis√≥rias e requerem valida√ß√£o humana subsequente.**

## 6. Escopo Permitido

O agente A1 PODE realizar exclusivamente as seguintes opera√ß√µes:

### 6.1 Agrupamento por Similaridade Textual
- Agrupar evid√™ncias aprovadas por similaridade textual computacional, sem infer√™ncia cl√≠nica ou conceitual
- Identificar co-ocorr√™ncias textuais entre evid√™ncias
- Detectar sobreposi√ß√µes literais entre trechos aprovados

**Restri√ß√£o:** Agrupamentos DEVEM ser baseados exclusivamente em caracter√≠sticas textuais observ√°veis e expl√≠citas. Nenhuma infer√™ncia sobre significado cl√≠nico, equival√™ncia conceitual ou rela√ß√£o sem√¢ntica impl√≠cita √© permitida.

**Regra expl√≠cita sobre similaridade textual computacional:**
- Similaridade textual computacional N√ÉO implica similaridade sem√¢ntica, conceitual, cl√≠nica ou ontol√≥gica
- O A1 N√ÉO pode tratar textos como equivalentes com base em significado, apenas em padr√µes textuais observ√°veis
- Nenhuma medida de similaridade textual autoriza o A1 a inferir que dois conceitos s√£o o mesmo
- Alta similaridade textual computacional N√ÉO autoriza o A1 a presumir equival√™ncia sem√¢ntica, cl√≠nica ou conceitual
- O A1 N√ÉO pode deduzir que textos similares referem-se ao mesmo fen√¥meno cl√≠nico, entidade nosol√≥gica ou conceito terap√™utico

**Defini√ß√£o restritiva:**
Para fins deste contrato, "similaridade textual computacional" refere-se apenas a opera√ß√µes sobre a forma expl√≠cita do texto
(caracteres, tokens literais, substrings, n-grams),
excluindo qualquer t√©cnica que modele significado, contexto ou sem√¢ntica impl√≠cita.

### 6.2 Proposi√ß√£o de R√≥tulos Neutros

R√≥tulos provis√≥rios DEVEM ser:
- Extra√≠dos literalmente do texto das evid√™ncias aprovadas, OU
- Compostos exclusivamente por concatena√ß√£o literal de termos presentes nas evid√™ncias

O A1 DEVE:
- Manter registro expl√≠cito da fonte textual de cada r√≥tulo proposto
- Marcar r√≥tulos derivados de evid√™ncia √∫nica como "fonte √∫nica"
- Referenciar todas as evid√™ncias das quais o r√≥tulo foi extra√≠do

**Restri√ß√£o:** R√≥tulos devem ser neutros, provis√≥rios e n√£o normalizados. √â explicitamente proibido:
- Parafrasear termos
- Generalizar conceitos
- Abstrair ou sintetizar semanticamente
- Traduzir entre idiomas
- Aplicar normaliza√ß√£o ontol√≥gica
- Enriquecer com conhecimento externo

**Restri√ß√µes absolutas sobre r√≥tulos provis√≥rios:**

R√≥tulos provis√≥rios N√ÉO PODEM:
1. Ser traduzidos entre idiomas (ex: "Defici√™ncia de Yin do Rim" ‚Üí "Kidney Yin Deficiency")
2. Ser parafraseados (ex: "sudorese noturna" ‚Üí "transpira√ß√£o durante o sono")
3. Ser semanticamente normalizados (ex: "dor de cabe√ßa" ‚Üí "cefaleia")
4. Ser enriquecidos por conhecimento externo n√£o presente nas evid√™ncias
5. Ser reformulados para adequa√ß√£o a vocabul√°rios controlados
6. Ser sintetizados a partir de interpreta√ß√£o conceitual
7. Ser abstra√≠dos para termos mais gen√©ricos n√£o presentes nas evid√™ncias
8. Ser especializados para termos mais espec√≠ficos n√£o presentes nas evid√™ncias

**Regra de extra√ß√£o literal:**
Se um r√≥tulo provis√≥rio n√£o puder ser mapeado deterministicamente a uma substring ou concatena√ß√£o literal de substrings das evid√™ncias fonte, ele N√ÉO DEVE ser criado.

### 6.3 Sinaliza√ß√£o de Conflitos e Redund√¢ncias
- Identificar evid√™ncias aprovadas com sobreposi√ß√£o textual significativa (redund√¢ncia potencial)
- Identificar evid√™ncias aprovadas com conte√∫do textualmente divergente sobre o mesmo termo (conflito potencial)
- Documentar co-ocorr√™ncias e padr√µes textuais observ√°veis

**Restri√ß√£o:** Sinaliza√ß√µes devem ser descritivas e factuais, nunca resolutivas. O A1 n√£o resolve conflitos, n√£o julga qual evid√™ncia est√° correta e n√£o decide qual deve prevalecer. Toda sinaliza√ß√£o DEVE incluir a marca√ß√£o "requer revis√£o humana".

### 6.4 Produ√ß√£o de Estruturas Intermedi√°rias
- Criar agrupamentos tempor√°rios de evid√™ncias
- Gerar √≠ndices e metadados auxiliares
- Preparar dados para revis√£o humana ou processamento por agentes superiores (A2, A3, etc.)

**Restri√ß√£o:** Estruturas intermedi√°rias n√£o s√£o conhecimento cl√≠nico final e devem ser claramente marcadas como provis√≥rias.

## 7. Escopo Proibido

O agente A1 explicitamente N√ÉO pode realizar as seguintes opera√ß√µes:

### 7.1 Cria√ß√£o de Entidades Cl√≠nicas Finais
‚ùå Criar registros em tabelas de entidades cl√≠nicas finalizadas
‚ùå Definir entidades como "v√°lidas" ou "can√¥nicas"
‚ùå Atribuir c√≥digos de ontologias cl√≠nicas (ICD, SNOMED, etc.)

### 7.2 Infer√™ncia de Rela√ß√µes
‚ùå Inferir rela√ß√µes causais entre sintomas e s√≠ndromes
‚ùå Inferir rela√ß√µes terap√™uticas entre pontos e condi√ß√µes
‚ùå Inferir rela√ß√µes diagn√≥sticas entre sinais e doen√ßas
‚ùå Criar grafos de conhecimento cl√≠nico

### 7.3 Normaliza√ß√£o e Enriquecimento
‚ùå Normalizar terminologia cl√≠nica
‚ùå Traduzir conceitos entre idiomas ou sistemas
‚ùå Aplicar ontologias ou vocabul√°rios controlados
‚ùå Enriquecer evid√™ncias com conhecimento externo
‚ùå Parafrasear ou reformular termos cl√≠nicos

### 7.4 Substitui√ß√£o de Julgamento Humano
‚ùå Aprovar ou rejeitar evid√™ncias
‚ùå Alterar o campo `status` de qualquer evid√™ncia
‚ùå Sobrescrever decis√µes de revis√£o humana
‚ùå Validar cientificamente qualquer conte√∫do
‚ùå Resolver conflitos entre evid√™ncias

### 7.5 Acesso a Dados N√£o Aprovados
‚ùå Processar evid√™ncias com `status = "pending"`
‚ùå Processar evid√™ncias com `status = "rejected"`
‚ùå Reprocessar chunks originais de `kb_raw_chunks`
‚ùå Inferir dados ausentes ou incompletos

### 7.6 Infer√™ncia Sem√¢ntica ou Conceitual
‚ùå Deduzir equival√™ncias conceituais n√£o explicitamente textuais
‚ùå Inferir que termos diferentes se referem ao mesmo conceito
‚ùå Aplicar racioc√≠nio cl√≠nico para interpretar similaridade
‚ùå Usar conhecimento de dom√≠nio para agrupar evid√™ncias
‚ùå Presumir equival√™ncia sem√¢ntica a partir de similaridade textual alta
‚ùå Deduzir significado cl√≠nico a partir de co-ocorr√™ncias textuais
‚ùå Interpretar contexto cl√≠nico impl√≠cito n√£o explicitamente presente no texto

**Princ√≠pio fundamental:**
Mesmo quando a similaridade textual computacional entre duas evid√™ncias √© m√°xima ou pr√≥xima de m√°xima, o A1 N√ÉO est√° autorizado a inferir que:
- Os conceitos s√£o id√™nticos
- Os conceitos s√£o equivalentes clinicamente
- Os conceitos pertencem √† mesma categoria ontol√≥gica
- Um conceito pode ser substitu√≠do pelo outro
- Os conceitos compartilham significado sem√¢ntico

Similaridade textual √© apenas similaridade textual. N√£o autoriza nenhuma infer√™ncia sem√¢ntica, conceitual ou cl√≠nica.

## 8. Modelo de Falha Aceit√°vel

O agente A1 adota o princ√≠pio de conservadorismo epist√™mico:

### 8.1 Princ√≠pios de Falha
- **Falsos negativos s√£o aceit√°veis:** √â prefer√≠vel omitir um agrupamento do que criar um agrupamento incorreto
- **Omiss√£o √© prefer√≠vel √† infer√™ncia:** Na aus√™ncia de evid√™ncia textual expl√≠cita, o A1 DEVE abster-se de produzir sa√≠da
- **Incerteza deve ser explicitada:** Quando a confian√ßa √© baixa, o A1 DEVE sinalizar incerteza, nunca for√ßar conclus√µes

### 8.2 Crit√©rios de Confian√ßa
- Agrupamentos com confian√ßa abaixo do threshold definido por perfil de execu√ß√£o devem ser sinalizados como "baixa confian√ßa, requer revis√£o"
- R√≥tulos provis√≥rios derivados de evid√™ncia √∫nica DEVEM ser marcados como "fonte √∫nica"
- Conflitos identificados com baixa certeza DEVEM incluir nota "poss√≠vel conflito, requer revis√£o humana"

### 8.3 Regra de Absten√ß√£o
Em caso de d√∫vida sobre:
- A similaridade textual entre evid√™ncias
- A adequa√ß√£o de um r√≥tulo extra√≠do
- A natureza de um conflito ou redund√¢ncia

O A1 DEVE abster-se de produzir sa√≠da ou produzir sa√≠da marcada como "incerta, requer revis√£o humana".

## 9. Regras Estritas de Processamento

### 9.1 Preserva√ß√£o de Rastreabilidade
- Todo agrupamento DEVE referenciar explicitamente os IDs das evid√™ncias fonte
- Todo r√≥tulo provis√≥rio DEVE referenciar as evid√™ncias das quais foi derivado
- Toda sinaliza√ß√£o DEVE referenciar as evid√™ncias envolvidas

### 9.2 N√£o-Destrutividade
- O A1 NUNCA altera registros em `kb_evidence_excerpts`
- O A1 NUNCA remove evid√™ncias aprovadas
- O A1 NUNCA modifica campos `status`, `reviewed_by`, `reviewed_at`

### 9.3 Transpar√™ncia de M√©todo
- Todo agrupamento DEVE incluir descri√ß√£o textual da base do agrupamento (`cluster_basis`)
- Todo r√≥tulo DEVE incluir refer√™ncia √† fonte textual de onde foi extra√≠do
- Toda sinaliza√ß√£o DEVE incluir descri√ß√£o factual do conflito/redund√¢ncia

### 9.4 Idempot√™ncia
- M√∫ltiplas execu√ß√µes do A1 sobre o mesmo conjunto de evid√™ncias aprovadas devem produzir resultados consistentes
- Agrupamentos n√£o devem variar aleatoriamente entre execu√ß√µes

## 10. Logs e Auditoria

**Tabela preferencial:** `mcp_a1_audit_logs`

O uso de tabelas gen√©ricas de ingest√£o √© permitido apenas se garantido isolamento l√≥gico por `agent_name`, `agent_model` e `profile_id`.

**Campos m√≠nimos:**
- `operation = "A1_clustering"`
- `agent_name = "A1"`
- `agent_version`
- `agent_model = "A1-Œ±"`
- `input_approved_excerpts_count`
- `output_clusters_count`
- `output_labels_count`
- `output_conflicts_count`
- `warnings`
- `execution_time_ms`
- `profile_id` (refer√™ncia ao perfil de execu√ß√£o)

**Regra contratual:**

Toda execu√ß√£o do A1 DEVE gerar exatamente um registro de auditoria.

Execu√ß√µes sem log s√£o consideradas inv√°lidas, mesmo que tenham produzido output.

## 11. Invariantes do Sistema

‚ö†Ô∏è **Nota:** As invariantes descritas nesta se√ß√£o s√£o conceituais e definem propriedades esperadas do sistema A1. Elas N√ÉO substituem execution invariants formais, que ser√£o definidos em artefatos separados e versionados.

### 11.1 Invariantes de Integridade
- Todo `evidence_id` referenciado pelo A1 DEVE existir em `kb_evidence_excerpts`
- Todo `evidence_id` processado DEVE ter `status = "approved"`
- Todo `evidence_id` processado DEVE ter `reviewed_by IS NOT NULL`
- Todo `evidence_id` processado DEVE ter `reviewed_at IS NOT NULL`

### 11.2 Invariantes de Seguran√ßa
- Nenhum dado cl√≠nico final validado √© criado
- Nenhuma entidade cl√≠nica can√¥nica √© inferida
- Nenhuma rela√ß√£o causal, terap√™utica ou diagn√≥stica √© persistida
- Nenhuma normaliza√ß√£o ontol√≥gica √© aplicada
- Nenhuma infer√™ncia sem√¢ntica ou conceitual √© realizada
- Nenhuma tradu√ß√£o, par√°frase ou reformula√ß√£o √© aplicada a r√≥tulos

### 11.3 Invariantes de Rastreabilidade
- Todo output do A1 DEVE ser rastre√°vel √†s evid√™ncias aprovadas de origem
- Todo agrupamento, r√≥tulo ou sinaliza√ß√£o DEVE incluir refer√™ncias expl√≠citas
- Nenhuma informa√ß√£o pode ser introduzida sem origem textual documentada

## 12. Limite Intencional do A1

O agente A1 possui limites intencionais e intranspon√≠veis, definidos para garantir integridade epistemol√≥gica da base de conhecimento.

1. O A1 N√ÉO realiza valida√ß√£o cient√≠fica, cl√≠nica, terap√™utica ou epistemol√≥gica
2. O A1 N√ÉO julga corre√ß√£o, plausibilidade ou ader√™ncia a padr√µes cl√≠nicos
3. O A1 N√ÉO cria conhecimento cl√≠nico final
4. O A1 N√ÉO infere rela√ß√µes n√£o explicitamente presentes nas evid√™ncias
5. O A1 N√ÉO normaliza ou traduz conceitos cl√≠nicos
6. O A1 N√ÉO interpreta similaridade sem√¢ntica ou conceitual
7. O papel do A1 √© estritamente organizacional e preparat√≥rio:
   agrupar por caracter√≠sticas textuais observ√°veis, rotular por extra√ß√£o literal e sinalizar padr√µes, sempre de forma conservadora.
8. Qualquer valida√ß√£o, interpreta√ß√£o final ou curadoria cl√≠nica √© responsabilidade exclusiva de humanos ou agentes superiores (A2, A3, etc.).

**Este limite √© deliberado.**
**Qualquer expans√£o deste escopo constitui viola√ß√£o de contrato.**

## 13. Exemplo Simplificado

### Input (kb_evidence_excerpts, status=approved):

**Evid√™ncia 1:**
```json
{
  "id": "uuid-001",
  "excerpt_text": "A s√≠ndrome de Defici√™ncia de Yin do Rim manifesta-se com sudorese noturna e boca seca.",
  "suggested_entity_type": "syndrome",
  "status": "approved",
  "reviewed_by": "uuid-reviewer-1",
  "reviewed_at": "2026-01-15T10:30:00Z"
}
```

**Evid√™ncia 2:**
```json
{
  "id": "uuid-002",
  "excerpt_text": "Defici√™ncia de Yin do Rim: sudorese noturna, boca e garganta secas.",
  "suggested_entity_type": "syndrome",
  "status": "approved",
  "reviewed_by": "uuid-reviewer-1",
  "reviewed_at": "2026-01-15T10:31:00Z"
}
```

### Output (kb_evidence_clusters):

```json
{
  "cluster_id": "uuid-cluster-001",
  "evidence_ids": ["uuid-001", "uuid-002"],
  "cluster_basis": "Sobreposi√ß√£o textual significativa: ambas cont√™m literalmente 'Defici√™ncia de Yin do Rim' e 'sudorese noturna'",
  "provisional_label": "Defici√™ncia de Yin do Rim",
  "confidence_level": "[definido por perfil de execu√ß√£o]"
}
```

### Output (kb_evidence_conflicts):

```json
{
  "conflict_id": "uuid-conflict-001",
  "evidence_id_a": "uuid-001",
  "evidence_id_b": "uuid-002",
  "conflict_type": "redundancy",
  "description": "Ambas evid√™ncias cont√™m o termo 'Defici√™ncia de Yin do Rim' e listam sintomas sobrepostos. Poss√≠vel redund√¢ncia textual, requer revis√£o humana."
}
```

## 14. Ponto de Aten√ß√£o Cr√≠tico

Se o A1 produzir sa√≠da como:

> "Este cluster representa a s√≠ndrome de Defici√™ncia de Yin do Rim segundo a teoria da MTC, caracterizada por..."

üëâ **Contrato violado.**
**Isso √© interpreta√ß√£o cl√≠nica, n√£o agrupamento conservador.**

Se o A1 criar um r√≥tulo normalizado como:

> "Kidney Yin Deficiency (SNOMED: 12345678)"

üëâ **Contrato violado.**
**Isso √© normaliza√ß√£o ontol√≥gica, n√£o r√≥tulo provis√≥rio neutro.**

Se o A1 inferir uma rela√ß√£o como:

> "A Defici√™ncia de Yin do Rim causa sudorese noturna"

üëâ **Contrato violado.**
**Isso √© infer√™ncia causal, n√£o sinaliza√ß√£o de co-ocorr√™ncia textual.**

Se o A1 deduzir equival√™ncia conceitual:

> "Defici√™ncia de Yin do Rim √© equivalente a Kidney Yin Deficiency"

üëâ **Contrato violado.**
**Isso √© infer√™ncia sem√¢ntica, n√£o identifica√ß√£o de sobreposi√ß√£o textual literal.**

Se o A1 traduzir um r√≥tulo:

> R√≥tulo extra√≠do: "Kidney Yin Deficiency" (a partir de evid√™ncia contendo "Defici√™ncia de Yin do Rim")

üëâ **Contrato violado.**
**Isso √© tradu√ß√£o, n√£o extra√ß√£o literal.**

Se o A1 parafrasear um r√≥tulo:

> R√≥tulo extra√≠do: "transpira√ß√£o durante o sono" (a partir de evid√™ncia contendo "sudorese noturna")

üëâ **Contrato violado.**
**Isso √© par√°frase, n√£o extra√ß√£o literal.**

## 15. Controle de Vers√£o e Imutabilidade

**Vers√£o:** A1 v1.1
**Data de cria√ß√£o:** 2026-01-30
**Status:** Draft (pr√©-freeze)

**Justificativa da vers√£o:**
Vers√£o criada para corrigir e explicitar restri√ß√µes conservadoras identificadas em auditoria p√≥s-freeze do A1 v1.0.

Principais ajustes em rela√ß√£o ao A1 v1.0:
1. Explicita√ß√£o obrigat√≥ria da tripla condi√ß√£o de filtragem (status=approved AND reviewed_by IS NOT NULL AND reviewed_at IS NOT NULL)
2. Refor√ßo da proibi√ß√£o absoluta de infer√™ncia sem√¢ntica, conceitual ou cl√≠nica, mesmo com alta similaridade textual
3. Especifica√ß√£o detalhada das restri√ß√µes sobre r√≥tulos provis√≥rios (proibi√ß√£o expl√≠cita de tradu√ß√£o, par√°frase, normaliza√ß√£o sem√¢ntica e enriquecimento)
4. Defini√ß√£o restritiva de "similaridade textual computacional" limitada a opera√ß√µes sobre forma expl√≠cita do texto
5. Restri√ß√£o adicional sobre c√°lculo de confidence_level (apenas m√©tricas determin√≠sticas, nunca embeddings ou modelos sem√¢nticos)
6. Isolamento de auditoria (tabela preferencial mcp_a1_audit_logs)

**Depend√™ncias congeladas:**
- A0.md (hash: ab43bca68c1607c3b140bb72a60497d068a8ccd41145f29b00eedcbfbeab852c)
- a0_execution_invariants_v1.md (hash: dd34f985ae3ca215378af9550d702a18fbe846c4d2b1186455e8a824577480da)

**Regra de imutabilidade:**
Qualquer altera√ß√£o nos artefatos A0 invalida semanticamente este contrato A1 e requer revis√£o formal.
